<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>环形进度条</title>
    <style>
        svg {
            display: block;
            margin: 200px auto 0;
        }
        .text {
            font-size: 80px;
            font-weight: 900;
            fill: red;
        }
    </style>
</head>
<body>
    <svg width="700" height="700">
        <circle
            cx="350"
            cy="350"
            r="300"
            fill="none"
            stroke="#ccc"
            stroke-width="40"
        ></circle>
        <circle
            class="progress"
            cx="350"
            cy="350"
            r="300"
            fill="none"
            stroke="green"
            stroke-width="40"
            stroke-linecap="round"
            stroke-dasharray="0, 10000"
        ></circle>
        <text x="350" y="350" class="text">0%</text>
    </svg>
    
    <div onclick="progressInit()">click</div>
</body>
<script>
    var text = document.querySelector('.text')
    var progress = document.querySelector('.progress')
    text.style.transform = `translate(-62px, 40px)`
    
    function progressInit() {
        var step = 0
        var timer = setInterval(() => {
            step += 20
            progress.setAttribute('stroke-dasharray', `${step}, 10000`)
            text.innerHTML = Math.floor(step / 1900 * 100) + '%'
            if(step === 1900) {
                clearInterval(timer)
            }
        }, 20)
    }
</script>
</html>